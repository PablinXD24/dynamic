<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Island Spotify</title>
    <style>
        body { background: #000; color: white; display: flex; justify-content: center; padding-top: 50px; font-family: sans-serif; }
        .btn { background: #1DB954; color: black; padding: 15px 30px; border-radius: 50px; text-decoration: none; font-weight: bold; }
    </style>
</head>
<body>

    <a id="loginLink" href="#" class="btn">CONECTAR SPOTIFY</a>

    <script>
        // CONFIGURAÇÃO
        const CLIENT_ID = 'ff2d9d81535645d29d8ba470833a264d';
        const REDIRECT_URI = 'https://pablinxd24.github.io/dynamic/';
        
        // --- A CORREÇÃO ESTÁ AQUI ---
        // Esta é a única URL que aceita response_type=token
        const AUTH_ENDPOINT = 'https://accounts.spotify.com/authorize';
        
        const SCOPES = 'user-read-playback-state user-modify-playback-state user-read-currently-playing streaming user-read-email user-read-private';

        // Monta o link assim que a página carrega
        const authUrl = `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&scope=${encodeURIComponent(SCOPES)}&response_type=token&show_dialog=true`;
        
        document.getElementById('loginLink').href = authUrl;

        // Verifica se deu certo
        if(window.location.hash.includes('access_token')) {
            document.body.innerHTML = '<h1 style="color:#1DB954">SUCESSO! CONECTADO.</h1>';
        }
    </script>

</body>
</html>
