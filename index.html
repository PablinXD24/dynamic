<!DOCTYPE html>
<html>
<head>
    <title>Teste Spotify Login</title>
</head>
<body style="background: black; color: white; display: flex; justify-content: center; align-items: center; height: 100vh;">

    <button id="loginBtn" style="padding: 20px; font-size: 20px; cursor: pointer;">
        TESTAR LOGIN SPOTIFY
    </button>

    <script>
        // CONFIGURAÇÃO
        const CLIENT_ID = 'ff2d9d81535645d29d8ba470833a264d';
        const REDIRECT_URI = 'https://pablinxd24.github.io/dynamic/'; // Precisa bater exato com o dashboard

        // URL OFICIAL DE AUTENTICAÇÃO (O erro estava aqui antes)
        const AUTH_ENDPOINT = 'https://accounts.spotify.com/authorize';
        const SCOPES = 'user-read-playback-state user-modify-playback-state user-read-currently-playing';

        document.getElementById('loginBtn').addEventListener('click', () => {
            // Monta o link
            const url = `${AUTH_ENDPOINT}?client_id=${CLIENT_ID}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&scope=${encodeURIComponent(SCOPES)}&response_type=token&show_dialog=true`;
            
            console.log("Indo para:", url);
            // Redireciona
            window.location.href = url;
        });

        // Mostra o token na tela se voltar do login
        if (window.location.hash) {
            document.body.innerHTML = "<h1>SUCESSO! TOKEN RECEBIDO.</h1><p>" + window.location.hash + "</p>";
        }
    </script>

</body>
</html>
