<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HyperOS Google Island</title>
    <style>
        :root {
            --island-bg: #000000;
            --app-bg: #1c1c1e; /* Fundo escuro padr√£o Apple/Xiaomi */
            --spring-easing: cubic-bezier(0.34, 1.56, 0.64, 1); 
            --accent-blue: #0A84FF;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; user-select: none; -webkit-tap-highlight-color: transparent; }
        
        body {
            height: 100vh; display: flex; justify-content: center; align-items: flex-start; padding-top: 20px;
            background: url('https://images.unsplash.com/photo-1620121692029-d088224ddc74?q=80&w=2832&auto=format&fit=crop') no-repeat center center fixed;
            background-size: cover;
            overflow: hidden;
        }

        /* --- A ILHA FLUTUANTE --- */
        .fluid-cloud {
            background-color: var(--island-bg);
            color: white;
            border-radius: 35px; 
            width: 126px; height: 36px; /* Tamanho inicial compacto */
            position: relative; z-index: 1000;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            transition: width 0.6s var(--spring-easing), height 0.6s var(--spring-easing), border-radius 0.6s ease;
            cursor: pointer; overflow: hidden;
            display: flex; flex-direction: column; align-items: center;
        }

        .fluid-cloud:hover:not(.expanded) { transform: scale(1.03); }

        /* ESTADO EXPANDIDO (TELA CHEIA DA ILHA) */
        .fluid-cloud.expanded {
            width: 380px; height: 650px; /* Tamanho de um celular pequeno */
            border-radius: 45px; cursor: default;
        }

        /* --- INDICADOR (QUANDO FECHADO) --- */
        .collapsed-view {
            width: 100%; height: 36px; display: flex; align-items: center; justify-content: center;
            position: absolute; top: 0; transition: opacity 0.2s;
        }
        .mini-camera {
            width: 40px; height: 100%; background: transparent; /* Simula a c√¢mera f√≠sica */
        }

        /* --- CONTE√öDO EXPANDIDO --- */
        .expanded-view {
            width: 100%; height: 100%; opacity: 0; pointer-events: none;
            display: flex; flex-direction: column; 
            transition: opacity 0.3s ease 0.1s;
            overflow: hidden;
        }
        
        .fluid-cloud.expanded .expanded-view { opacity: 1; pointer-events: all; }
        .fluid-cloud.expanded .collapsed-view { opacity: 0; pointer-events: none; }

        /* CONTAINER DOS APPS */
        #screen-container { 
            flex: 1; position: relative; width: 100%; overflow: hidden; 
            border-bottom-left-radius: 45px; border-bottom-right-radius: 45px;
            background: #fff; /* Fundo branco para o navegador */
        }

        .app-screen {
            position: absolute; top:0; left:0; width: 100%; height: 100%;
            background: #fff;
            display: flex; flex-direction: column;
            transform: translateX(0); /* Padr√£o vis√≠vel */
        }

        /* --- BARRA DE NAVEGA√á√ÉO ESTILO CHROME --- */
        .browser-header {
            height: 54px; background: #f2f2f7; 
            display: flex; align-items: center; justify-content: space-between;
            padding: 8px 12px; border-bottom: 1px solid #d1d1d6;
            margin-top: 25px; /* Espa√ßo para a ilha f√≠sica */
        }
        
        .nav-controls { display: flex; gap: 15px; }
        .nav-btn { font-size: 18px; color: #007AFF; cursor: pointer; padding: 4px; }
        .nav-btn:active { opacity: 0.5; }

        .url-box {
            flex: 1; margin: 0 10px; height: 36px;
            background: #e3e3e8; border-radius: 10px;
            display: flex; align-items: center; padding: 0 10px;
        }
        
        .google-icon { font-size: 14px; margin-right: 6px; }
        
        .url-input {
            flex: 1; background: transparent; border: none; outline: none;
            font-size: 14px; color: #000; text-align: center;
        }
        .url-input:focus { text-align: left; }

        /* IFRAME FULLSCREEN */
        iframe.web-view {
            flex: 1; width: 100%; border: none; background: #fff;
            opacity: 1; transition: opacity 0.3s;
        }

        /* DOCK INFERIOR (MENU) */
        .dock {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            height: 60px; background: rgba(0,0,0,0.8); backdrop-filter: blur(20px);
            border-radius: 35px; display: flex; align-items: center; padding: 0 20px; gap: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 2000;
        }
        
        .dock-icon {
            font-size: 24px; color: #fff; opacity: 0.6; cursor: pointer;
            transition: 0.2s; width: 40px; height: 40px; 
            display: flex; align-items: center; justify-content: center;
            border-radius: 12px;
        }
        .dock-icon:hover { opacity: 1; background: rgba(255,255,255,0.1); transform: scale(1.1); }
        .dock-icon.active { opacity: 1; background: rgba(255,255,255,0.2); color: #0A84FF; }

        /* Loader */
        .loader {
            position: absolute; top: 100px; left: 50%; transform: translateX(-50%);
            width: 30px; height: 30px; border: 3px solid #ddd; border-top-color: #0A84FF;
            border-radius: 50%; animation: spin 1s infinite linear;
            display: none; z-index: 5;
        }
        @keyframes spin { 100% { transform: translateX(-50%) rotate(360deg); } }

    </style>
</head>
<body>

    <div class="fluid-cloud" id="island">
        
        <div class="collapsed-view" onclick="toggleIsland()">
            </div>

        <div class="expanded-view">
            
            <div id="screen-container">
                <div class="app-screen">
                    <div class="browser-header">
                        <div class="nav-controls">
                            <span class="nav-btn" onclick="goBack()">‚ùÆ</span>
                            <span class="nav-btn" onclick="goForward()">‚ùØ</span>
                        </div>
                        <div class="url-box">
                            <span class="google-icon">üîç</span>
                            <input type="text" class="url-input" value="Google" id="urlInput" onkeypress="handleEnter(event)" onfocus="this.select()">
                        </div>
                        <div class="nav-controls">
                            <span class="nav-btn" onclick="reload()">‚Üª</span>
                        </div>
                    </div>

                    <div class="loader" id="loader"></div>

                    <iframe 
                        id="browserFrame" 
                        class="web-view"
                        src="https://www.google.com/webhp?igu=1"
                        sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-modals allow-presentation"
                    ></iframe>
                </div>
            </div>

            <div class="dock">
                <div class="dock-icon active" title="Navegador">üåê</div>
                <div class="dock-icon" title="Fechar Ilha" onclick="toggleIsland()">‚úï</div>
            </div>

        </div>
    </div>

    <script>
        const island = document.getElementById('island');
        const frame = document.getElementById('browserFrame');
        const input = document.getElementById('urlInput');
        const loader = document.getElementById('loader');

        // URL M√°gica do Google que permite Iframe
        const GOOGLE_BASE = "https://www.google.com/webhp?igu=1";
        const GOOGLE_SEARCH = "https://www.google.com/search?igu=1&q=";

        function toggleIsland() {
            island.classList.toggle('expanded');
        }

        // L√≥gica de Navega√ß√£o
        function handleEnter(e) {
            if (e.key === 'Enter') {
                let val = input.value.trim();
                if (!val) return;
                
                startLoading();

                // Verifica se √© URL ou Pesquisa
                if (val.includes('.') && !val.includes(' ')) {
                    if (!val.startsWith('http')) val = 'https://' + val;
                    frame.src = val;
                } else {
                    // Pesquisa Google com par√¢metro de desbloqueio
                    frame.src = GOOGLE_SEARCH + encodeURIComponent(val);
                }
                
                input.blur();
            }
        }

        function reload() {
            startLoading();
            // Truque para recarregar iframe sem cache
            frame.src = frame.src;
        }

        function goBack() {
            // Nota: Hist√≥rico de iframe tem limita√ß√µes de seguran√ßa
            try { frame.contentWindow.history.back(); } catch(e) { console.log('Bloqueio de seguran√ßa ao voltar'); }
        }
        
        function goForward() {
            try { frame.contentWindow.history.forward(); } catch(e) { console.log('Bloqueio de seguran√ßa ao avan√ßar'); }
        }

        // Simula√ß√£o de Loading
        function startLoading() {
            loader.style.display = 'block';
            frame.style.opacity = '0.5';
            
            // O Iframe n√£o avisa quando termina de carregar sites externos (seguran√ßa)
            // Ent√£o usamos um timer falso para UX
            setTimeout(() => {
                loader.style.display = 'none';
                frame.style.opacity = '1';
            }, 1500);
        }

        // Ajustar visual quando a Ilha abre
        island.addEventListener('transitionend', () => {
            if (island.classList.contains('expanded')) {
                // Foco opcional ou l√≥gica extra
            }
        });

    </script>
</body>
</html>
